<ion-content fullscreen class="login-bg">
  <div class="login-wrapper" [class.show]="!loading">
    <h2>Cadastrar Funcionário</h2>
    <p>Preencha os dados para criar uma conta</p>

    <form (ngSubmit)="cadastrarFuncionario()">
      <ion-item lines="none" class="input-item">
        <ion-icon name="person-outline" slot="start"></ion-icon>
        <ion-input
          type="text"
          placeholder="Nome"
          [(ngModel)]="funcionario.nome"
          name="nome"
          required
          clearInput>
        </ion-input>
      </ion-item>

      <ion-item lines="none" class="input-item">
        <ion-icon name="call-outline" slot="start"></ion-icon>
        <ion-input
          type="tel"
          placeholder="Telefone"
          [(ngModel)]="funcionario.telefone"
          name="telefone"
          required
          clearInput>
        </ion-input>
      </ion-item>

      <ion-item lines="none" class="input-item">
        <ion-icon name="lock-closed-outline" slot="start"></ion-icon>
        <ion-input
          [type]="showPassword ? 'text' : 'password'"
          placeholder="Senha"
          [(ngModel)]="funcionario.senha"
          name="senha"
          required
          clearInput>
        </ion-input>
        <ion-icon
          slot="end"
          [name]="showPassword ? 'eye-off-outline' : 'eye-outline'"
          class="eye-icon"
          (click)="togglePasswordVisibility()">
        </ion-icon>
      </ion-item>

      <ion-item lines="none" class="input-item">
        <ion-icon name="shield-checkmark-outline" slot="start"></ion-icon>
        <ion-input
          [type]="showPassword ? 'text' : 'password'"
          placeholder="Confirmar Senha"
          [(ngModel)]="funcionario.confirmarSenha"
          name="confirmarSenha"
          required
          clearInput>
        </ion-input>
      </ion-item>

      <ion-item lines="none" class="input-item">
        <ion-icon name="briefcase-outline" slot="start"></ion-icon>
        <ion-select
          placeholder="Tipo de Funcionário"
          [(ngModel)]="funcionario.tipo"
          name="tipo"
          interface="popover"
          required>
          <ion-select-option *ngFor="let tipo of tiposFuncionario" [value]="tipo.id">
            {{ tipo.cargo }}
          </ion-select-option>
        </ion-select>
      </ion-item>

      <ion-button
        type="submit"
        expand="block"
        class="btn-login"
        [disabled]="loading">
        <ng-container *ngIf="!loading; else carregando">
          <span class="btn-text">
            Cadastrar
            <ion-icon name="person-add-outline"></ion-icon>
          </span>
        </ng-container>
        <ng-template #carregando>
          <ion-spinner name="crescent"></ion-spinner>
        </ng-template>
      </ion-button>
    </form>
  </div>
</ion-content>
