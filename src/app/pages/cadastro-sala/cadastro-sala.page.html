<ion-content fullscreen class="login-bg">
  <div class="login-wrapper" [class.show]="!loading">
    <h2>Cadastrar Sala</h2>
    <p>Preencha os dados da nova sala</p>

    <form (ngSubmit)="cadastrarSala()">
      <ion-item lines="none" class="input-item">
        <ion-icon name="business-outline" slot="start"></ion-icon>
        <ion-input
          type="text"
          placeholder="Nome da Sala"
          [(ngModel)]="sala.nome"
          name="nome"
          required
          clearInput>
        </ion-input>
      </ion-item>

      <ion-item lines="none" class="input-item">
        <ion-icon name="document-text-outline" slot="start"></ion-icon>
        <ion-textarea
          placeholder="Descrição"
          [(ngModel)]="sala.descricao"
          name="descricao"
          required
          autoGrow="true">
        </ion-textarea>
      </ion-item>

      <ion-item lines="none" class="input-item">
        <ion-icon name="grid-outline" slot="start"></ion-icon>
        <ion-input
          type="number"
          placeholder="Número da Sala"
          [(ngModel)]="sala.numero"
          name="numero"
          required>
        </ion-input>
      </ion-item>

      <ion-item lines="none" class="input-item">
        <ion-icon name="people-outline" slot="start"></ion-icon>
        <ion-input
          type="number"
          placeholder="Capacidade"
          [(ngModel)]="sala.capacidade"
          name="capacidade"
          required>
        </ion-input>
      </ion-item>

      <ion-item lines="none" class="input-item">
        <ion-icon name="layers-outline" slot="start"></ion-icon>
        <ion-select
          placeholder="Tipo de Sala"
          [(ngModel)]="sala.tipo"
          name="tipo"
          interface="popover"
          required>
          <ion-select-option *ngFor="let tipo of tiposSala" [value]="tipo.id">
            {{ tipo.descricao }}
          </ion-select-option>
        </ion-select>
      </ion-item>

      <ion-button
        type="submit"
        expand="block"
        class="btn-login"
        [disabled]="loading">
        <ng-container *ngIf="!loading; else carregando">
          <span class="btn-text">
            Cadastrar
            <ion-icon name="save-outline"></ion-icon>
          </span>
        </ng-container>
        <ng-template #carregando>
          <ion-spinner name="crescent"></ion-spinner>
        </ng-template>
      </ion-button>
    </form>
  </div>
</ion-content>
